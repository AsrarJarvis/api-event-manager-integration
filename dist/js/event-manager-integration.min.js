function collectCssFromButton(t){return{bgColor:t.css("background-color"),textColor:t.css("color"),borderColor:t.css("border-color"),textShadow:t.css("text-shadow"),boxShadow:t.css("box-shadow"),width:t.css("width"),text:t.text()}}function redLoadingButton(t,n){t.fadeOut(500,function(){var o=[eventintegration.loading+"&nbsp;&nbsp;&nbsp;",eventintegration.loading+".&nbsp;&nbsp;",eventintegration.loading+"..&nbsp;",eventintegration.loading+"..."];t.css("background-color","rgb(51, 197, 255)"),t.css("border-color","rgb(0, 164, 230)"),t.css("color","white"),t.css("text-shadow","0 -1px 1px rgb(0, 164, 230),1px 0 1px rgb(0, 164, 230),0 1px 1px rgb(0, 164, 230),-1px 0 1px rgb(0, 164, 230)"),t.css("box-shadow","none"),t.css("width","85px"),t.html(o[0]),t.fadeIn(500);var e=1;EventManagerIntegration.timerId=setInterval(function(){e>3&&(e=0),t.html(o[e]),++e},500),void 0!=n&&n()})}function restoreButton(t,n){t.fadeOut(500,function(){t.css("background-color",n.bgColor),t.css("color",n.textColor),t.css("border-color",n.borderColor),t.css("text-shadow",n.textShadow),t.css("box-shadow",n.boxShadow),t.css("width",n.width),t.text(n.text),t.fadeIn(500),clearTimeout(EventManagerIntegration.timerId)})}var EventManagerIntegration=EventManagerIntegration||{};EventManagerIntegration.loading=!1,EventManagerIntegration.data={action:"import_events",value:""},EventManagerIntegration.timerId=null,jQuery(document).ready(function(t){t("#importevents").click(function(){if(!EventManagerIntegration.loadingOccasions){EventManagerIntegration.loadingOccasions=!0;var n=t(this),o=collectCssFromButton(n);redLoadingButton(n,function(){EventManagerIntegration.data.value=n.attr("id"),jQuery.post(ajaxurl,EventManagerIntegration.data,function(t){var e=t;console.log(e),EventManagerIntegration.loadingOccasions=!1,restoreButton(n,o),location.reload()})})}})});