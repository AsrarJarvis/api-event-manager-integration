var EventManagerIntegration=EventManagerIntegration||{};EventManagerIntegration.Event=EventManagerIntegration.Event||{},EventManagerIntegration.Event.Module=function(n){function e(){n(function(){this.initEventModules(),this.initEventPagination()}.bind(this))}return e.prototype.initEventModules=function(){n(".modularity-mod-event").each(function(e,t){var a=n(t).find(".box-panel").attr("module-id"),o=n(".modularity-mod-event-"+a);n.ajax({url:ajaxpagination.ajaxurl,type:"post",data:{action:"ajax_get_events",id:a},beforeSend:function(){n(o).find(".event-module-list").remove(),n(o).find(".module-content").append('<div class="event-load-box"><div class="loader">Loading...</div></div>')},success:function(e){n(o).find(".event-load-box").remove(),n(o).find(".module-content").append(e).hide().fadeIn(80)}})})},e.prototype.initEventPagination=function(){n(".modularity-mod-event").each(function(t,a){n(".module-pagination").bladePagination({maxPageNum:3,prevLabel:"&laquo;",nextLabel:"&raquo;",moreLabel:"...",clickPage:function(n,t){e.prototype.loadEvents(t,n)}})})},e.prototype.loadEvents=function(e,t){var a=n(e).closest(".box-panel").attr("module-id"),o=n(".modularity-mod-event-"+a),i=n(o).find(".module-content").height();n(o).find(".module-pagination li").not(n(e)).removeClass("active"),n(e).addClass("active"),n.ajax({url:ajaxpagination.ajaxurl,type:"post",data:{action:"ajax_pagination",page:t,id:a},beforeSend:function(){n(o).find(".event-module-list").remove(),n(o).find(".module-content").append('<div class="event-load-box"><div class="loader">Loading...</div></div>').height(i)},success:function(e){n(o).find(".event-load-box").remove(),n(o).find(".module-content").append(e).hide().fadeIn(80)}})},new e}(jQuery);